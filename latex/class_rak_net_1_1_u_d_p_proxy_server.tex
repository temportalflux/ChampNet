\hypertarget{class_rak_net_1_1_u_d_p_proxy_server}{\section{Rak\-Net\-:\-:U\-D\-P\-Proxy\-Server Class Reference}
\label{class_rak_net_1_1_u_d_p_proxy_server}\index{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server}}
}


\hyperlink{class_rak_net_1_1_u_d_p_proxy_server}{U\-D\-P\-Proxy\-Server} to control our instance of \hyperlink{class_rak_net_1_1_u_d_p_forwarder}{U\-D\-P\-Forwarder}.  




{\ttfamily \#include $<$U\-D\-P\-Proxy\-Server.\-h$>$}

Inheritance diagram for Rak\-Net\-:\-:U\-D\-P\-Proxy\-Server\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_rak_net_1_1_u_d_p_proxy_server}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_rak_net_1_1_u_d_p_proxy_server_a8199854134e7999703f64c2cb0f31506}{Set\-Socket\-Family} (unsigned short \-\_\-socket\-Family)
\item 
void \hyperlink{class_rak_net_1_1_u_d_p_proxy_server_aabdc998e85afbce5190711262318468c}{Set\-Result\-Handler} (\hyperlink{struct_rak_net_1_1_u_d_p_proxy_server_result_handler}{U\-D\-P\-Proxy\-Server\-Result\-Handler} $\ast$rh)
\item 
bool \hyperlink{class_rak_net_1_1_u_d_p_proxy_server_a32edaff2aec11cce6a138897b0e2a158}{Login\-To\-Coordinator} (\hyperlink{class_rak_net_1_1_rak_string}{Rak\-Net\-::\-Rak\-String} password, \hyperlink{struct_rak_net_1_1_system_address}{System\-Address} coordinator\-Address)
\item 
void \hyperlink{class_rak_net_1_1_u_d_p_proxy_server_aeb6440f4e5f44f75a940c45538340e15}{Set\-Server\-Public\-I\-P} (\hyperlink{class_rak_net_1_1_rak_string}{Rak\-String} ip)
\begin{DoxyCompactList}\small\item\em The server I\-P reported to the client is the I\-P address from the server to the coordinator. If the server and coordinator are on the same L\-A\-N, you need to call \hyperlink{class_rak_net_1_1_u_d_p_proxy_server_aeb6440f4e5f44f75a940c45538340e15}{Set\-Server\-Public\-I\-P()} to tell the client what address to connect to. \end{DoxyCompactList}\item 
\hypertarget{class_rak_net_1_1_u_d_p_proxy_server_a47ebde04af6efb122dbcf3994b9faa3f}{virtual void \hyperlink{class_rak_net_1_1_u_d_p_proxy_server_a47ebde04af6efb122dbcf3994b9faa3f}{On\-Attach} (void)}\label{class_rak_net_1_1_u_d_p_proxy_server_a47ebde04af6efb122dbcf3994b9faa3f}

\begin{DoxyCompactList}\small\item\em Called when the interface is attached. \end{DoxyCompactList}\item 
\hypertarget{class_rak_net_1_1_u_d_p_proxy_server_aa0bf0313fe56e485dc5be8c5b72a9c75}{virtual void \hyperlink{class_rak_net_1_1_u_d_p_proxy_server_aa0bf0313fe56e485dc5be8c5b72a9c75}{On\-Detach} (void)}\label{class_rak_net_1_1_u_d_p_proxy_server_aa0bf0313fe56e485dc5be8c5b72a9c75}

\begin{DoxyCompactList}\small\item\em Called when the interface is detached. \end{DoxyCompactList}\item 
\hypertarget{class_rak_net_1_1_u_d_p_proxy_server_a1e6a78a82faae30bb6b33e1cd994e846}{virtual void \hyperlink{class_rak_net_1_1_u_d_p_proxy_server_a1e6a78a82faae30bb6b33e1cd994e846}{Update} (void)}\label{class_rak_net_1_1_u_d_p_proxy_server_a1e6a78a82faae30bb6b33e1cd994e846}

\begin{DoxyCompactList}\small\item\em Update is called every time a packet is checked for . \end{DoxyCompactList}\item 
virtual \hyperlink{group___p_l_u_g_i_n___i_n_t_e_r_f_a_c_e___g_r_o_u_p_ga89998adaafb29e5d879113b992161085}{Plugin\-Receive\-Result} \hyperlink{class_rak_net_1_1_u_d_p_proxy_server_a051c38b321e54ba658b2e3eb2224940e}{On\-Receive} (\hyperlink{struct_rak_net_1_1_packet}{Packet} $\ast$packet)
\item 
virtual void \hyperlink{class_rak_net_1_1_u_d_p_proxy_server_a39620eefb2fdb1a1811880d872ce87d0}{On\-Closed\-Connection} (const \hyperlink{struct_rak_net_1_1_system_address}{System\-Address} \&system\-Address, \hyperlink{struct_rak_net_1_1_rak_net_g_u_i_d}{Rak\-Net\-G\-U\-I\-D} rak\-Net\-G\-U\-I\-D, \hyperlink{group___p_l_u_g_i_n___i_n_t_e_r_f_a_c_e___g_r_o_u_p_ga376cc546fd6892c2ead48cd51796c8b8}{P\-I2\-\_\-\-Lost\-Connection\-Reason} lost\-Connection\-Reason)
\item 
\hypertarget{class_rak_net_1_1_u_d_p_proxy_server_a80f7ee5d6e821cd0653cc28502db4666}{virtual void \hyperlink{class_rak_net_1_1_u_d_p_proxy_server_a80f7ee5d6e821cd0653cc28502db4666}{On\-Rak\-Peer\-Startup} (void)}\label{class_rak_net_1_1_u_d_p_proxy_server_a80f7ee5d6e821cd0653cc28502db4666}

\begin{DoxyCompactList}\small\item\em Called when \hyperlink{class_rak_net_1_1_rak_peer}{Rak\-Peer} is initialized. \end{DoxyCompactList}\item 
\hypertarget{class_rak_net_1_1_u_d_p_proxy_server_a91a6d428437c2adc9079a35785eb3abc}{virtual void \hyperlink{class_rak_net_1_1_u_d_p_proxy_server_a91a6d428437c2adc9079a35785eb3abc}{On\-Rak\-Peer\-Shutdown} (void)}\label{class_rak_net_1_1_u_d_p_proxy_server_a91a6d428437c2adc9079a35785eb3abc}

\begin{DoxyCompactList}\small\item\em Called when \hyperlink{class_rak_net_1_1_rak_peer}{Rak\-Peer} is shutdown. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_rak_net_1_1_u_d_p_forwarder}{U\-D\-P\-Forwarder} \hyperlink{class_rak_net_1_1_u_d_p_proxy_server_a7664fd65087f57acc4d2c602a1a30d24}{udp\-Forwarder}
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_rak_net_1_1_u_d_p_proxy_server_a89834c4289d07f87ee7851c0b23f1464}{void {\bfseries On\-Forwarding\-Request\-From\-Coordinator\-To\-Server} (\hyperlink{struct_rak_net_1_1_packet}{Packet} $\ast$packet)}\label{class_rak_net_1_1_u_d_p_proxy_server_a89834c4289d07f87ee7851c0b23f1464}

\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_rak_net_1_1_u_d_p_proxy_server_ae951880446386b213aca998fede8a85b}{\hyperlink{class_data_structures_1_1_ordered_list}{Data\-Structures\-::\-Ordered\-List}\\*
$<$ \hyperlink{struct_rak_net_1_1_system_address}{System\-Address}, \hyperlink{struct_rak_net_1_1_system_address}{System\-Address} $>$ {\bfseries logging\-In\-Coordinators}}\label{class_rak_net_1_1_u_d_p_proxy_server_ae951880446386b213aca998fede8a85b}

\item 
\hypertarget{class_rak_net_1_1_u_d_p_proxy_server_a5e0d72fabb9390c1023d5cc0803af9b9}{\hyperlink{class_data_structures_1_1_ordered_list}{Data\-Structures\-::\-Ordered\-List}\\*
$<$ \hyperlink{struct_rak_net_1_1_system_address}{System\-Address}, \hyperlink{struct_rak_net_1_1_system_address}{System\-Address} $>$ {\bfseries logged\-In\-Coordinators}}\label{class_rak_net_1_1_u_d_p_proxy_server_a5e0d72fabb9390c1023d5cc0803af9b9}

\item 
\hypertarget{class_rak_net_1_1_u_d_p_proxy_server_aa07a091fb3a9b874730a0f28355215ea}{\hyperlink{struct_rak_net_1_1_u_d_p_proxy_server_result_handler}{U\-D\-P\-Proxy\-Server\-Result\-Handler} $\ast$ {\bfseries result\-Handler}}\label{class_rak_net_1_1_u_d_p_proxy_server_aa07a091fb3a9b874730a0f28355215ea}

\item 
\hypertarget{class_rak_net_1_1_u_d_p_proxy_server_adde45c8fc65300ad426fe1039011563f}{unsigned short {\bfseries socket\-Family}}\label{class_rak_net_1_1_u_d_p_proxy_server_adde45c8fc65300ad426fe1039011563f}

\item 
\hypertarget{class_rak_net_1_1_u_d_p_proxy_server_adc6178ee0ba88e50618dc2f60699ab76}{\hyperlink{class_rak_net_1_1_rak_string}{Rak\-String} {\bfseries server\-Public\-Ip}}\label{class_rak_net_1_1_u_d_p_proxy_server_adc6178ee0ba88e50618dc2f60699ab76}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{class_rak_net_1_1_u_d_p_proxy_server}{U\-D\-P\-Proxy\-Server} to control our instance of \hyperlink{class_rak_net_1_1_u_d_p_forwarder}{U\-D\-P\-Forwarder}. 

When N\-A\-T Punchthrough fails, it is possible to use a non-\/\-N\-A\-T system to forward messages from us to the recipient, and vice-\/versa.\par
 The class to forward messages is \hyperlink{class_rak_net_1_1_u_d_p_forwarder}{U\-D\-P\-Forwarder}, and it is triggered over the network via the \hyperlink{class_rak_net_1_1_u_d_p_proxy_server}{U\-D\-P\-Proxy\-Server} plugin.\par
 The \hyperlink{class_rak_net_1_1_u_d_p_proxy_server}{U\-D\-P\-Proxy\-Server} connects to \hyperlink{class_rak_net_1_1_u_d_p_proxy_server}{U\-D\-P\-Proxy\-Server} to get a list of servers running \hyperlink{class_rak_net_1_1_u_d_p_proxy_server}{U\-D\-P\-Proxy\-Server}, and the coordinator will relay our forwarding request. 

\subsection{Member Function Documentation}
\hypertarget{class_rak_net_1_1_u_d_p_proxy_server_a32edaff2aec11cce6a138897b0e2a158}{\index{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server}!Login\-To\-Coordinator@{Login\-To\-Coordinator}}
\index{Login\-To\-Coordinator@{Login\-To\-Coordinator}!RakNet::UDPProxyServer@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server}}
\subsubsection[{Login\-To\-Coordinator}]{\setlength{\rightskip}{0pt plus 5cm}bool Rak\-Net\-::\-U\-D\-P\-Proxy\-Server\-::\-Login\-To\-Coordinator (
\begin{DoxyParamCaption}
\item[{{\bf Rak\-Net\-::\-Rak\-String}}]{password, }
\item[{{\bf System\-Address}}]{coordinator\-Address}
\end{DoxyParamCaption}
)}}\label{class_rak_net_1_1_u_d_p_proxy_server_a32edaff2aec11cce6a138897b0e2a158}
Before the coordinator will register the \hyperlink{class_rak_net_1_1_u_d_p_proxy_server}{U\-D\-P\-Proxy\-Server}, you must login \begin{DoxyPrecond}{Precondition}
Must be connected to the coordinator 

Coordinator must have set a password with \hyperlink{class_rak_net_1_1_u_d_p_proxy_coordinator_adce074b9622b9f8940d5da1e22d2e827}{U\-D\-P\-Proxy\-Coordinator\-::\-Set\-Remote\-Login\-Password()} 
\end{DoxyPrecond}
\begin{DoxyReturn}{Returns}
false if already logged in, or logging in. Returns true otherwise 
\end{DoxyReturn}
\hypertarget{class_rak_net_1_1_u_d_p_proxy_server_a39620eefb2fdb1a1811880d872ce87d0}{\index{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server}!On\-Closed\-Connection@{On\-Closed\-Connection}}
\index{On\-Closed\-Connection@{On\-Closed\-Connection}!RakNet::UDPProxyServer@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server}}
\subsubsection[{On\-Closed\-Connection}]{\setlength{\rightskip}{0pt plus 5cm}virtual void Rak\-Net\-::\-U\-D\-P\-Proxy\-Server\-::\-On\-Closed\-Connection (
\begin{DoxyParamCaption}
\item[{const {\bf System\-Address} \&}]{system\-Address, }
\item[{{\bf Rak\-Net\-G\-U\-I\-D}}]{rak\-Net\-G\-U\-I\-D, }
\item[{{\bf P\-I2\-\_\-\-Lost\-Connection\-Reason}}]{lost\-Connection\-Reason}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_rak_net_1_1_u_d_p_proxy_server_a39620eefb2fdb1a1811880d872ce87d0}
Called when a connection is dropped because the user called \hyperlink{class_rak_net_1_1_rak_peer_a95e3806fce8552e322236abcf105cbf9}{Rak\-Peer\-::\-Close\-Connection()} for a particular system 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em system\-Address} & The system whose connection was closed \\
\hline
\mbox{\tt in}  & {\em rak\-Net\-Guid} & The guid of the specified system \\
\hline
\mbox{\tt in}  & {\em lost\-Connection\-Reason} & How the connection was closed\-: manually, connection lost, or notification of disconnection \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{class_rak_net_1_1_plugin_interface2_a80c7612ca1a5dcfeec0b52d8049a71ea}{Rak\-Net\-::\-Plugin\-Interface2}.

\hypertarget{class_rak_net_1_1_u_d_p_proxy_server_a051c38b321e54ba658b2e3eb2224940e}{\index{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server}!On\-Receive@{On\-Receive}}
\index{On\-Receive@{On\-Receive}!RakNet::UDPProxyServer@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server}}
\subsubsection[{On\-Receive}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Plugin\-Receive\-Result} Rak\-Net\-::\-U\-D\-P\-Proxy\-Server\-::\-On\-Receive (
\begin{DoxyParamCaption}
\item[{{\bf Packet} $\ast$}]{packet}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_rak_net_1_1_u_d_p_proxy_server_a051c38b321e54ba658b2e3eb2224940e}
On\-Receive is called for every packet. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em packet} & the packet that is being returned to the user \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True to allow the game and other plugins to get this message, false to absorb it 
\end{DoxyReturn}


Reimplemented from \hyperlink{class_rak_net_1_1_plugin_interface2_aa86f33263c1648f11b8a006469272639}{Rak\-Net\-::\-Plugin\-Interface2}.

\hypertarget{class_rak_net_1_1_u_d_p_proxy_server_aabdc998e85afbce5190711262318468c}{\index{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server}!Set\-Result\-Handler@{Set\-Result\-Handler}}
\index{Set\-Result\-Handler@{Set\-Result\-Handler}!RakNet::UDPProxyServer@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server}}
\subsubsection[{Set\-Result\-Handler}]{\setlength{\rightskip}{0pt plus 5cm}void Rak\-Net\-::\-U\-D\-P\-Proxy\-Server\-::\-Set\-Result\-Handler (
\begin{DoxyParamCaption}
\item[{{\bf U\-D\-P\-Proxy\-Server\-Result\-Handler} $\ast$}]{rh}
\end{DoxyParamCaption}
)}}\label{class_rak_net_1_1_u_d_p_proxy_server_aabdc998e85afbce5190711262318468c}
Receives the results of calling \hyperlink{class_rak_net_1_1_u_d_p_proxy_server_a32edaff2aec11cce6a138897b0e2a158}{Login\-To\-Coordinator()} Set before calling Login\-To\-Coordinator or you won't know what happened 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em result\-Handler} & \\
\hline
\end{DoxyParams}
\hypertarget{class_rak_net_1_1_u_d_p_proxy_server_aeb6440f4e5f44f75a940c45538340e15}{\index{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server}!Set\-Server\-Public\-I\-P@{Set\-Server\-Public\-I\-P}}
\index{Set\-Server\-Public\-I\-P@{Set\-Server\-Public\-I\-P}!RakNet::UDPProxyServer@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server}}
\subsubsection[{Set\-Server\-Public\-I\-P}]{\setlength{\rightskip}{0pt plus 5cm}void Rak\-Net\-::\-U\-D\-P\-Proxy\-Server\-::\-Set\-Server\-Public\-I\-P (
\begin{DoxyParamCaption}
\item[{{\bf Rak\-String}}]{ip}
\end{DoxyParamCaption}
)}}\label{class_rak_net_1_1_u_d_p_proxy_server_aeb6440f4e5f44f75a940c45538340e15}


The server I\-P reported to the client is the I\-P address from the server to the coordinator. If the server and coordinator are on the same L\-A\-N, you need to call \hyperlink{class_rak_net_1_1_u_d_p_proxy_server_aeb6440f4e5f44f75a940c45538340e15}{Set\-Server\-Public\-I\-P()} to tell the client what address to connect to. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ip} & I\-P address to report in \hyperlink{struct_rak_net_1_1_u_d_p_proxy_client_result_handler_a8052a8af926b913784b3e000416fa128}{U\-D\-P\-Proxy\-Client\-Result\-Handler\-::\-On\-Forwarding\-Success()} and \hyperlink{struct_rak_net_1_1_u_d_p_proxy_client_result_handler_a7e6850016de9235b6d3657a76075522c}{U\-D\-P\-Proxy\-Client\-Result\-Handler\-::\-On\-Forwarding\-Notification()} as proxy\-I\-P\-Address \\
\hline
\end{DoxyParams}
\hypertarget{class_rak_net_1_1_u_d_p_proxy_server_a8199854134e7999703f64c2cb0f31506}{\index{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server}!Set\-Socket\-Family@{Set\-Socket\-Family}}
\index{Set\-Socket\-Family@{Set\-Socket\-Family}!RakNet::UDPProxyServer@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server}}
\subsubsection[{Set\-Socket\-Family}]{\setlength{\rightskip}{0pt plus 5cm}void Rak\-Net\-::\-U\-D\-P\-Proxy\-Server\-::\-Set\-Socket\-Family (
\begin{DoxyParamCaption}
\item[{unsigned short}]{\-\_\-socket\-Family}
\end{DoxyParamCaption}
)}}\label{class_rak_net_1_1_u_d_p_proxy_server_a8199854134e7999703f64c2cb0f31506}
Sets the socket family to use, either I\-P\-V4 or I\-P\-V6 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em socket\-Family} & For I\-P\-V4, use A\-F\-\_\-\-I\-N\-E\-T (default). For I\-P\-V6, use A\-F\-\_\-\-I\-N\-E\-T6. To autoselect, use A\-F\-\_\-\-U\-N\-S\-P\-E\-C. \\
\hline
\end{DoxyParams}


\subsection{Member Data Documentation}
\hypertarget{class_rak_net_1_1_u_d_p_proxy_server_a7664fd65087f57acc4d2c602a1a30d24}{\index{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server}!udp\-Forwarder@{udp\-Forwarder}}
\index{udp\-Forwarder@{udp\-Forwarder}!RakNet::UDPProxyServer@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Server}}
\subsubsection[{udp\-Forwarder}]{\setlength{\rightskip}{0pt plus 5cm}{\bf U\-D\-P\-Forwarder} Rak\-Net\-::\-U\-D\-P\-Proxy\-Server\-::udp\-Forwarder}}\label{class_rak_net_1_1_u_d_p_proxy_server_a7664fd65087f57acc4d2c602a1a30d24}
Operative class that performs the forwarding Exposed so you can call \hyperlink{class_rak_net_1_1_u_d_p_forwarder_a59d01c307683affb6ecf8c6a2e18d7ca}{U\-D\-P\-Forwarder\-::\-Set\-Max\-Forward\-Entries()} if you want to change away from the default \hyperlink{class_rak_net_1_1_u_d_p_forwarder_a33db580779b6bc0c52e82c18c9f82e0e}{U\-D\-P\-Forwarder\-::\-Startup()}, \hyperlink{class_rak_net_1_1_u_d_p_forwarder_a601f4783a6c32353a99c26d0996f0500}{U\-D\-P\-Forwarder\-::\-Shutdown()}, and U\-D\-P\-Forwarder\-::\-Update() are called automatically by the plugin 

The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
/home/travis/build/temportalflux/\-Champ\-Net/\-Champ\-Net/\-Libs/include/\-Rak\-Net/\hyperlink{_u_d_p_proxy_server_8h}{U\-D\-P\-Proxy\-Server.\-h}\end{DoxyCompactItemize}
