\hypertarget{class_rak_net_1_1_u_d_p_proxy_client}{\section{Rak\-Net\-:\-:U\-D\-P\-Proxy\-Client Class Reference}
\label{class_rak_net_1_1_u_d_p_proxy_client}\index{Rak\-Net\-::\-U\-D\-P\-Proxy\-Client@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Client}}
}


Communicates with \hyperlink{class_rak_net_1_1_u_d_p_proxy_coordinator}{U\-D\-P\-Proxy\-Coordinator}, in order to find a \hyperlink{class_rak_net_1_1_u_d_p_proxy_server}{U\-D\-P\-Proxy\-Server} to forward our datagrams.  




{\ttfamily \#include $<$U\-D\-P\-Proxy\-Client.\-h$>$}

Inheritance diagram for Rak\-Net\-:\-:U\-D\-P\-Proxy\-Client\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_rak_net_1_1_u_d_p_proxy_client}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_rak_net_1_1_u_d_p_proxy_client_1_1_ping_server_group}{Ping\-Server\-Group}
\item 
struct \hyperlink{struct_rak_net_1_1_u_d_p_proxy_client_1_1_sender_and_target_address}{Sender\-And\-Target\-Address}
\item 
struct \hyperlink{struct_rak_net_1_1_u_d_p_proxy_client_1_1_server_with_ping}{Server\-With\-Ping}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_rak_net_1_1_u_d_p_proxy_client_a8fc30b0a5224d0efe7ed9fe2ff9841d1}{Set\-Result\-Handler} (\hyperlink{struct_rak_net_1_1_u_d_p_proxy_client_result_handler}{U\-D\-P\-Proxy\-Client\-Result\-Handler} $\ast$rh)
\item 
bool \hyperlink{class_rak_net_1_1_u_d_p_proxy_client_a94ee5defadaa018d15de5ed2498625ad}{Request\-Forwarding} (\hyperlink{struct_rak_net_1_1_system_address}{System\-Address} proxy\-Coordinator, \hyperlink{struct_rak_net_1_1_system_address}{System\-Address} source\-Address, \hyperlink{struct_rak_net_1_1_system_address}{System\-Address} target\-Address\-As\-Seen\-From\-Coordinator, Rak\-Net\-::\-Time\-M\-S timeout\-On\-No\-Data\-M\-S, \hyperlink{class_rak_net_1_1_bit_stream}{Rak\-Net\-::\-Bit\-Stream} $\ast$server\-Selection\-Bitstream=0)
\item 
bool \hyperlink{class_rak_net_1_1_u_d_p_proxy_client_a94193970bef43ead993f1dfb734d3f73}{Request\-Forwarding} (\hyperlink{struct_rak_net_1_1_system_address}{System\-Address} proxy\-Coordinator, \hyperlink{struct_rak_net_1_1_system_address}{System\-Address} source\-Address, \hyperlink{struct_rak_net_1_1_rak_net_g_u_i_d}{Rak\-Net\-G\-U\-I\-D} target\-Guid, Rak\-Net\-::\-Time\-M\-S timeout\-On\-No\-Data\-M\-S, \hyperlink{class_rak_net_1_1_bit_stream}{Rak\-Net\-::\-Bit\-Stream} $\ast$server\-Selection\-Bitstream=0)
\item 
\hypertarget{class_rak_net_1_1_u_d_p_proxy_client_a0ef9ece963dde728a09c78f849683daf}{virtual void \hyperlink{class_rak_net_1_1_u_d_p_proxy_client_a0ef9ece963dde728a09c78f849683daf}{Update} (void)}\label{class_rak_net_1_1_u_d_p_proxy_client_a0ef9ece963dde728a09c78f849683daf}

\begin{DoxyCompactList}\small\item\em Update is called every time a packet is checked for . \end{DoxyCompactList}\item 
virtual \hyperlink{group___p_l_u_g_i_n___i_n_t_e_r_f_a_c_e___g_r_o_u_p_ga89998adaafb29e5d879113b992161085}{Plugin\-Receive\-Result} \hyperlink{class_rak_net_1_1_u_d_p_proxy_client_a92e2cefd0e42ee8a86fde60e32cd53c2}{On\-Receive} (\hyperlink{struct_rak_net_1_1_packet}{Packet} $\ast$packet)
\item 
\hypertarget{class_rak_net_1_1_u_d_p_proxy_client_ac310e4654dd16088934f393345c2dc5c}{virtual void \hyperlink{class_rak_net_1_1_u_d_p_proxy_client_ac310e4654dd16088934f393345c2dc5c}{On\-Rak\-Peer\-Shutdown} (void)}\label{class_rak_net_1_1_u_d_p_proxy_client_ac310e4654dd16088934f393345c2dc5c}

\begin{DoxyCompactList}\small\item\em Called when \hyperlink{class_rak_net_1_1_rak_peer}{Rak\-Peer} is shutdown. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_rak_net_1_1_u_d_p_proxy_client_a37d30913baa4ab9a51b0e097c9feaaf7}{\hyperlink{class_data_structures_1_1_list}{Data\-Structures\-::\-List}\\*
$<$ \hyperlink{struct_rak_net_1_1_u_d_p_proxy_client_1_1_ping_server_group}{Ping\-Server\-Group} $\ast$ $>$ {\bfseries ping\-Server\-Groups}}\label{class_rak_net_1_1_u_d_p_proxy_client_a37d30913baa4ab9a51b0e097c9feaaf7}

\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_rak_net_1_1_u_d_p_proxy_client_a03930c254115da2da2b5bfa8b1c191f3}{void {\bfseries On\-Ping\-Servers} (\hyperlink{struct_rak_net_1_1_packet}{Packet} $\ast$packet)}\label{class_rak_net_1_1_u_d_p_proxy_client_a03930c254115da2da2b5bfa8b1c191f3}

\item 
\hypertarget{class_rak_net_1_1_u_d_p_proxy_client_a1b13dca5b99c7a077dec6fbb0c6b0a3b}{void {\bfseries Clear} (void)}\label{class_rak_net_1_1_u_d_p_proxy_client_a1b13dca5b99c7a077dec6fbb0c6b0a3b}

\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_rak_net_1_1_u_d_p_proxy_client_a1c1bdcb07c16ad56894415087da70252}{\hyperlink{struct_rak_net_1_1_u_d_p_proxy_client_result_handler}{U\-D\-P\-Proxy\-Client\-Result\-Handler} $\ast$ {\bfseries result\-Handler}}\label{class_rak_net_1_1_u_d_p_proxy_client_a1c1bdcb07c16ad56894415087da70252}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Communicates with \hyperlink{class_rak_net_1_1_u_d_p_proxy_coordinator}{U\-D\-P\-Proxy\-Coordinator}, in order to find a \hyperlink{class_rak_net_1_1_u_d_p_proxy_server}{U\-D\-P\-Proxy\-Server} to forward our datagrams. 

When N\-A\-T Punchthrough fails, it is possible to use a non-\/\-N\-A\-T system to forward messages from us to the recipient, and vice-\/versa.\par
 The class to forward messages is \hyperlink{class_rak_net_1_1_u_d_p_forwarder}{U\-D\-P\-Forwarder}, and it is triggered over the network via the \hyperlink{class_rak_net_1_1_u_d_p_proxy_server}{U\-D\-P\-Proxy\-Server} plugin.\par
 The \hyperlink{class_rak_net_1_1_u_d_p_proxy_client}{U\-D\-P\-Proxy\-Client} connects to \hyperlink{class_rak_net_1_1_u_d_p_proxy_coordinator}{U\-D\-P\-Proxy\-Coordinator} to get a list of servers running \hyperlink{class_rak_net_1_1_u_d_p_proxy_server}{U\-D\-P\-Proxy\-Server}, and the coordinator will relay our forwarding request \begin{DoxySeeAlso}{See Also}
\hyperlink{class_rak_net_1_1_nat_punchthrough_server}{Nat\-Punchthrough\-Server} 

\hyperlink{class_rak_net_1_1_nat_punchthrough_client}{Nat\-Punchthrough\-Client} 
\end{DoxySeeAlso}


\subsection{Member Function Documentation}
\hypertarget{class_rak_net_1_1_u_d_p_proxy_client_a92e2cefd0e42ee8a86fde60e32cd53c2}{\index{Rak\-Net\-::\-U\-D\-P\-Proxy\-Client@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Client}!On\-Receive@{On\-Receive}}
\index{On\-Receive@{On\-Receive}!RakNet::UDPProxyClient@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Client}}
\subsubsection[{On\-Receive}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Plugin\-Receive\-Result} Rak\-Net\-::\-U\-D\-P\-Proxy\-Client\-::\-On\-Receive (
\begin{DoxyParamCaption}
\item[{{\bf Packet} $\ast$}]{packet}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_rak_net_1_1_u_d_p_proxy_client_a92e2cefd0e42ee8a86fde60e32cd53c2}
On\-Receive is called for every packet. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em packet} & the packet that is being returned to the user \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True to allow the game and other plugins to get this message, false to absorb it 
\end{DoxyReturn}


Reimplemented from \hyperlink{class_rak_net_1_1_plugin_interface2_aa86f33263c1648f11b8a006469272639}{Rak\-Net\-::\-Plugin\-Interface2}.

\hypertarget{class_rak_net_1_1_u_d_p_proxy_client_a94ee5defadaa018d15de5ed2498625ad}{\index{Rak\-Net\-::\-U\-D\-P\-Proxy\-Client@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Client}!Request\-Forwarding@{Request\-Forwarding}}
\index{Request\-Forwarding@{Request\-Forwarding}!RakNet::UDPProxyClient@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Client}}
\subsubsection[{Request\-Forwarding}]{\setlength{\rightskip}{0pt plus 5cm}bool Rak\-Net\-::\-U\-D\-P\-Proxy\-Client\-::\-Request\-Forwarding (
\begin{DoxyParamCaption}
\item[{{\bf System\-Address}}]{proxy\-Coordinator, }
\item[{{\bf System\-Address}}]{source\-Address, }
\item[{{\bf System\-Address}}]{target\-Address\-As\-Seen\-From\-Coordinator, }
\item[{Rak\-Net\-::\-Time\-M\-S}]{timeout\-On\-No\-Data\-M\-S, }
\item[{{\bf Rak\-Net\-::\-Bit\-Stream} $\ast$}]{server\-Selection\-Bitstream = {\ttfamily 0}}
\end{DoxyParamCaption}
)}}\label{class_rak_net_1_1_u_d_p_proxy_client_a94ee5defadaa018d15de5ed2498625ad}
Sends a request to proxy\-Coordinator to find a server and have that server setup \hyperlink{class_rak_net_1_1_u_d_p_forwarder_ab7f8cd50c56845a8822c3ba0fbf3ab92}{U\-D\-P\-Forwarder\-::\-Start\-Forwarding()} on our address to {\itshape target\-Address\-As\-Seen\-From\-Coordinator} The forwarded datagrams can be from any U\-D\-P source, not just \hyperlink{namespace_rak_net}{Rak\-Net} \begin{DoxyPrecond}{Precondition}
Must be connected to {\itshape proxy\-Coordinator} 

Systems running \hyperlink{class_rak_net_1_1_u_d_p_proxy_server}{U\-D\-P\-Proxy\-Server} must be connected to {\itshape proxy\-Coordinator} and logged in via U\-D\-P\-Proxy\-Coordinator\-::\-Login\-Server() or \hyperlink{class_rak_net_1_1_u_d_p_proxy_server_a32edaff2aec11cce6a138897b0e2a158}{U\-D\-P\-Proxy\-Server\-::\-Login\-To\-Coordinator()} 
\end{DoxyPrecond}
\begin{DoxyNote}{Note}
May still fail, if all proxy servers have no open connections. 

\hyperlink{namespace_rak_net}{Rak\-Net}'s protocol will ensure a message is sent at least every 5 seconds, so if routing \hyperlink{namespace_rak_net}{Rak\-Net} messages, it is a reasonable value for timeout\-On\-No\-Data\-M\-S, plus an extra few seconds for latency. 
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em proxy\-Coordinator} & System we are connected to that is running the \hyperlink{class_rak_net_1_1_u_d_p_proxy_coordinator}{U\-D\-P\-Proxy\-Coordinator} plugin \\
\hline
\mbox{\tt in}  & {\em source\-Address} & External I\-P address of the system we want to forward messages from. This does not have to be our own system. To specify our own system, you can pass U\-N\-A\-S\-S\-I\-G\-N\-E\-D\-\_\-\-S\-Y\-S\-T\-E\-M\-\_\-\-A\-D\-D\-R\-E\-S\-S which the coordinator will treat as our external I\-P address. \\
\hline
\mbox{\tt in}  & {\em target\-Address\-As\-Seen\-From\-Coordinator} & External I\-P address of the system we want to forward messages to. If this system is connected to \hyperlink{class_rak_net_1_1_u_d_p_proxy_coordinator}{U\-D\-P\-Proxy\-Coordinator} at this address using \hyperlink{namespace_rak_net}{Rak\-Net}, that system will ping the server and thus open the router for incoming communication. In any other case, you are responsible for doing your own network communication to have that system ping the server. See also target\-Guid in the other version of \hyperlink{class_rak_net_1_1_u_d_p_proxy_client_a94ee5defadaa018d15de5ed2498625ad}{Request\-Forwarding()}, to avoid the need to know the I\-P address to the coordinator of the destination. \\
\hline
\mbox{\tt in}  & {\em timeout\-On\-No\-Data} & If no data is sent by the forwarded systems, how long before removing the forward entry from \hyperlink{class_rak_net_1_1_u_d_p_forwarder}{U\-D\-P\-Forwarder}? U\-D\-P\-\_\-\-F\-O\-R\-W\-A\-R\-D\-E\-R\-\_\-\-M\-A\-X\-I\-M\-U\-M\-\_\-\-T\-I\-M\-E\-O\-U\-T is the maximum value. Recommended 10 seconds. \\
\hline
\mbox{\tt in}  & {\em server\-Selection\-Bitstream} & If you want to send data to U\-D\-P\-Proxy\-Coordinator\-::\-Get\-Best\-Server(), write it here \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the request was sent, false if we are not connected to proxy\-Coordinator 
\end{DoxyReturn}
\hypertarget{class_rak_net_1_1_u_d_p_proxy_client_a94193970bef43ead993f1dfb734d3f73}{\index{Rak\-Net\-::\-U\-D\-P\-Proxy\-Client@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Client}!Request\-Forwarding@{Request\-Forwarding}}
\index{Request\-Forwarding@{Request\-Forwarding}!RakNet::UDPProxyClient@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Client}}
\subsubsection[{Request\-Forwarding}]{\setlength{\rightskip}{0pt plus 5cm}bool Rak\-Net\-::\-U\-D\-P\-Proxy\-Client\-::\-Request\-Forwarding (
\begin{DoxyParamCaption}
\item[{{\bf System\-Address}}]{proxy\-Coordinator, }
\item[{{\bf System\-Address}}]{source\-Address, }
\item[{{\bf Rak\-Net\-G\-U\-I\-D}}]{target\-Guid, }
\item[{Rak\-Net\-::\-Time\-M\-S}]{timeout\-On\-No\-Data\-M\-S, }
\item[{{\bf Rak\-Net\-::\-Bit\-Stream} $\ast$}]{server\-Selection\-Bitstream = {\ttfamily 0}}
\end{DoxyParamCaption}
)}}\label{class_rak_net_1_1_u_d_p_proxy_client_a94193970bef43ead993f1dfb734d3f73}
Same as above, but specify the target with a G\-U\-I\-D, in case you don't know what its address is to the coordinator If requesting forwarding to a \hyperlink{namespace_rak_net}{Rak\-Net} enabled system, then it is easier to use target\-Guid instead of target\-Address\-As\-Seen\-From\-Coordinator \hypertarget{class_rak_net_1_1_u_d_p_proxy_client_a8fc30b0a5224d0efe7ed9fe2ff9841d1}{\index{Rak\-Net\-::\-U\-D\-P\-Proxy\-Client@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Client}!Set\-Result\-Handler@{Set\-Result\-Handler}}
\index{Set\-Result\-Handler@{Set\-Result\-Handler}!RakNet::UDPProxyClient@{Rak\-Net\-::\-U\-D\-P\-Proxy\-Client}}
\subsubsection[{Set\-Result\-Handler}]{\setlength{\rightskip}{0pt plus 5cm}void Rak\-Net\-::\-U\-D\-P\-Proxy\-Client\-::\-Set\-Result\-Handler (
\begin{DoxyParamCaption}
\item[{{\bf U\-D\-P\-Proxy\-Client\-Result\-Handler} $\ast$}]{rh}
\end{DoxyParamCaption}
)}}\label{class_rak_net_1_1_u_d_p_proxy_client_a8fc30b0a5224d0efe7ed9fe2ff9841d1}
Receives the results of calling \hyperlink{class_rak_net_1_1_u_d_p_proxy_client_a94ee5defadaa018d15de5ed2498625ad}{Request\-Forwarding()} Set before calling Request\-Forwarding or you won't know what happened 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em result\-Handler} & \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
/home/travis/build/temportalflux/\-Champ\-Net/\-Champ\-Net/\-Libs/include/\-Rak\-Net/\hyperlink{_u_d_p_proxy_client_8h}{U\-D\-P\-Proxy\-Client.\-h}\end{DoxyCompactItemize}
